<div ng-cloak>
    <form name="homeForm" role="form" novalidate ng-submit="vm.search()">
        <div class="row">
            <div class="col-md-12">
                <h1 data-translate="home.title">Welcome!</h1>
                <p class="lead" data-translate="home.subtitle">Search, Publish transcriptions</p>

                <div ng-switch="vm.isAuthenticated()">
                    <div class="alert alert-success" ng-switch-when="true" data-translate="home.logged.message"
                         translate-values="{username: '{{vm.account.login}}'}">
                        You are logged in as user "{{vm.account.login}}".
                    </div>

                    <div class="alert alert-warning alert-dismissable" ng-switch-when="false"
                         data-translate="global.messages.info.register"
                         translate-compile
                    >
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        You don't have an account yet? <a class="alert-link" ui-sref="register">Register a new
                        account</a>
                    </div>
                </div>

                <div class="form-group col-md-8">
                    <input type="text" name="query" class="form-control" ng-model="vm.query"
                           placeholder="Recherche..."/>
                </div>
                <div class="form-group col-md-4">
                    <button type="submit" class="btn btn-default btn-block btn-primary">Rechercher</button>
                </div>
                <div class="form-group col-md-12">
                    <tbody infinite-scroll="vm.loadPage(vm.page + 1)"
                           infinite-scroll-disabled="vm.page >= vm.links['last']">
                    <div class="panel panel-primary" ng-repeat="transcriptionrequest in vm.results ">
                        <div class="panel-heading">
                            <h2 class="panel-title">{{transcriptionrequest.artist}} :
                                {{transcriptionrequest.songName}}</h2>
                        </div>

                        <div class="panel-body">
                            <div>Version : {{transcriptionrequest.release}}</div>
                            <div>Morceau : {{transcriptionrequest.songName}}</div>
                            <div>Artiste : {{transcriptionrequest.artist}}</div>
                        </div>
                        <div class="panel-footer">
                            <strong>{{transcriptionrequest.price}} â‚¬</strong>
                        </div>

                    </div>
                </div>
                </tbody>

            </div>

        </div>
    </form>
</div>
